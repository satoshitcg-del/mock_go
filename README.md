Mock Go Fresh API
=================

‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
-------
‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå Go ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö mock API ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ MongoDB ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏û‡∏£‡πâ‡∏≠‡∏° HTML Console ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡∏î‡∏ß‡∏Å

‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î
---------
- Go 1.20+ (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤)
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `MONGO_URI` ‡πÉ‡∏ô env ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏ü‡∏•‡πå `.env`

‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ô
-------
```bash
go run test.go
```

‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡∏¥‡∏î `index.html` ‡πÉ‡∏ô browser ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:8080`

---

HTML Console - ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡∏°‡πà
------------------------------

### üé® ‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏ã‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà
- **‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢** - ‡πÉ‡∏ä‡πâ Color Palette ‡πÅ‡∏ö‡∏ö Professional (Slate/Blue)
- **‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 2 ‡∏†‡∏≤‡∏©‡∏≤** - ‡∏™‡∏•‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤ EN/TH ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- **Dark/Light Mode** - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ò‡∏µ‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- **Responsive** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (Desktop, Tablet, Mobile)

### üìä ‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å

#### 1. Dashboard
- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏£‡∏∏‡∏õ: Total Records, Unique Users, Websites, Currencies
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
- **Auto-refresh** ‡∏ó‡∏∏‡∏Å 35 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á

#### 2. Query Data
- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Win/Lose ‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
- Dropdown ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ (‡∏°.‡∏Ñ., ‡∏Å.‡∏û., ...)
- Dropdown ‡∏õ‡∏µ 2020-2030

#### 3. Insert Record
- **2 ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å**: Form Mode / JSON Mode
- Form Mode: ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏° Dropdown ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
- JSON Mode: ‡∏ß‡∏≤‡∏á JSON ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- **Multi-month Insert**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "All Months" ‡πÄ‡∏û‡∏∑‡πà‡∏≠ insert ‡∏ó‡∏±‡πâ‡∏á 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- Dropdown ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: 01 - Jan (‡∏°.‡∏Ñ.), 02 - Feb (‡∏Å.‡∏û.), ...
- Dropdown ‡∏õ‡∏µ: 2020-2030

#### 4. Manage Data
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏° Pagination
- **Search/Filter** ‡πÅ‡∏ö‡∏ö real-time
- **Table View / JSON View** ‡∏™‡∏•‡∏±‡∏ö‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ
- ‡∏õ‡∏∏‡πà‡∏° Edit/Delete ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ñ‡∏ß
- **Auto-refresh** ‡∏ó‡∏∏‡∏Å 35 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

#### 5. Settings
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Base URL
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Theme (Light/Dark/System)
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏•‡∏á localStorage

### ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|---------|------------|
| üåê Bilingual | ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© |
| üåì Dark Mode | ‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á/‡∏°‡∏∑‡∏î‡πÑ‡∏î‡πâ |
| ‚è±Ô∏è Auto-refresh | ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å 35 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà Dashboard ‡πÅ‡∏•‡∏∞ Manage Data |
| üî¢ Countdown | ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä |
| üìÖ All Months | ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "All Months" ‡πÄ‡∏û‡∏∑‡πà‡∏≠ insert ‡∏ó‡∏±‡πâ‡∏á 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô |
| üîî Toast Notifications | ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö non-blocking |
| üìù Form/JSON Mode | ‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ |
| üì± Responsive | ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå |

---

‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°
--------------
- `MONGO_URI`: MongoDB connection string
- `PORT`: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏∞‡πÉ‡∏ä‡πâ 8080

Endpoints
---------

### 1) POST `/api/v1/ext/winloseEsByMonthMulti`
‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Win/Lose ‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç

**Request body:**
```json
{"cur":"THB","month":"01","year":"2026","username":"user_demo","web":"WEB1"}
```

**Response body:**
```json
{
  "code": 0,
  "msg": "SUCCESS",
  "data": {
    "username": "user_demo",
    "prefix": null,
    "currency": "THB",
    "betAmt": -542668096.59,
    "validAmount": -533699975.73,
    "memberWl": -1226022.9421,
    "memberComm": 0,
    "memberTotal": -1226022.9421
  }
}
```

**Response body (Suspended = true, HTTP 200):**
```json
{
  "code": 403,
  "msg": "Permission denied."
}
```

### 2) GET `/api/v1/ext/snapshotAll`
‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô collection

### 3) POST `/api/v1/ext/insertSnapshot`
‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ `test_data.snapshot`

**Request body:**
```json
{
  "code": 0,
  "msg": "SUCCESS",
  "data": {
    "username": "superadmin",
    "prefix": null,
    "currency": "USDT",
    "betAmt": -542668096.5,
    "validAmount": -533699975.73,
    "memberWl": -1226022.9421,
    "memberComm": 0,
    "memberTotal": -1226022.9421,
    "web": "WEB1",
    "month": "01",
    "year": "2026"
  }
}
```

**Response body:**
```json
{"code":0,"msg":"SUCCESS","insertedId":"..."}
```

### 4) POST `/api/v1/ext/updateSnapshot`
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ filter ‡πÅ‡∏•‡∏∞ update

**Request body:**
```json
{
  "filter": {"data.username":"user_demo","data.month":"01","data.year":"2026"},
  "update": {"data.currency":"THB"},
  "upsert": false
}
```

**curl ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```bash
curl -X POST http://localhost:8080/api/v1/ext/updateSnapshot ^
  -H "Content-Type: application/json" ^
  -d "{\"filter\":{\"data.username\":\"user_demo\",\"data.month\":\"01\",\"data.year\":\"2026\"},\"update\":{\"data.currency\":\"THB\"},\"upsert\":false}"
```

**Response body:**
```json
{"code":0,"msg":"SUCCESS","matched":1,"modified":1,"upserted":null}
```

### 5) POST `/api/v1/ext/deleteSnapshot`
‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° filter

**Request body:**
```json
{"filter":{"data.username":"user_demo","data.month":"01","data.year":"2026"}}
```

**Response body:**
```json
{"code":0,"msg":"SUCCESS","deleted":1}
```

---

‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
---------
- ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö `month/year` ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà root ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô `data`
- `data` ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö object ‡πÅ‡∏•‡∏∞ array
- CORS ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (`Access-Control-Allow-Origin: *`) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô local HTML
- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production ‡∏Ñ‡∏ß‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î CORS ‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ trusted origins
